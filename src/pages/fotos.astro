---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Contador from '../components/Contador.jsx';
import  "../styles/global.css";
const response = await fetch("https://jsonplaceholder.typicode.com/photos");
const photos = await response.json();
const randomPhoto = photos.sort(() => Math.random() - 0.7).slice(0, 5);
---

<Layout>
    <Header />
    <main>
        <h1>Fotos</h1>
        <div class="grid">
        {randomPhoto.map((photo: any) => (
            <div class="card">
                <img src="/img/fotopruebaapi.jpg" alt={photo.title}  width="150px" height="150px"/>
                <h2>{photo.title}</h2>
            </div>
        ))}
        </div>
        <div class="contador">
            <Contador client:visible />
        </div>
    </main>
    <Footer />
</Layout>
<style>
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
    }
    .card {
    border: 1px solid white;
    background-color: black;
    padding: 1rem;
    border-radius: 0.5rem;
    margin: 0 auto;
    margin-left:175%;
    }
    .contador {
        display: grid;
        border-radius: 10px;
        background-color: black;
        padding: 1rem;
        border: 1px solid #ffffff;
        width: 10%;
        margin: 0 auto;
        margin-top: 2rem;
    }
</style>